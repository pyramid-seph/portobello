[gd_scene load_steps=12 format=3 uid="uid://dqhv4xmf00swy"]

[ext_resource type="PackedScene" uid="uid://b234bn7d8hw66" path="res://scenes/backgrounds/Day03Bg.tscn" id="1"]
[ext_resource type="Script" path="res://scenes/levels/wave_system/Level0Waves.gd" id="2"]
[ext_resource type="PackedScene" uid="uid://b4h2jfeyw2kj8" path="res://scenes/ui/day_3/Day3Ui.tscn" id="3"]
[ext_resource type="PackedScene" uid="uid://du27lfd1iian7" path="res://scenes/ui/day_3/MegaGunFlash.tscn" id="4"]
[ext_resource type="Script" path="res://scenes/levels/Day03Level.gd" id="5"]
[ext_resource type="PackedScene" uid="uid://d1iviyc6k7ebr" path="res://scenes/characters/player/Player.tscn" id="6"]
[ext_resource type="PackedScene" uid="uid://dm4n2v0yumhob" path="res://_working_on/StaminaSpawner.tscn" id="8"]
[ext_resource type="PackedScene" uid="uid://qpdnruhuk4cc" path="res://_working_on/PowerUpSpawner.tscn" id="9"]
[ext_resource type="PackedScene" uid="uid://dpydt5u68h02d" path="res://scenes/levels/WaveManager.tscn" id="10"]
[ext_resource type="Resource" path="res://resources/instances/Player01Day03Data.tres" id="11"]
[ext_resource type="Script" path="res://scenes/levels/DroneShootManager.gd" id="12"]

[node name="Day03Level" type="Node"]
process_mode = 3
script = ExtResource("5")
player_scene = ExtResource("6")
player_data = ExtResource("11")

[node name="DroneShootManager" type="Node" parent="."]
process_mode = 1
script = ExtResource("12")

[node name="CooldownTimer" type="Timer" parent="DroneShootManager"]
process_mode = 1
one_shot = true

[node name="WaveManager" parent="." instance=ExtResource("10")]
process_mode = 1
waves_script = ExtResource("2")

[node name="StaminaSpawner" parent="." instance=ExtResource("8")]
process_mode = 1
player_data = ExtResource("11")

[node name="PowerUpSpawner" parent="." instance=ExtResource("9")]
process_mode = 1

[node name="World" type="Node2D" parent="."]
process_mode = 1

[node name="Day03Bg" parent="World" instance=ExtResource("1")]

[node name="StartPosition" type="Marker2D" parent="World"]
position = Vector2(120, 280)

[node name="Interface" type="Node" parent="."]
process_mode = 1

[node name="MegaGunFlash" parent="Interface" instance=ExtResource("4")]
grow_horizontal = 2
grow_vertical = 2

[node name="Day3Ui" parent="Interface" instance=ExtResource("3")]

[connection signal="level_state_changed" from="." to="Interface/Day3Ui" method="_on_day_03_level_level_state_changed"]
[connection signal="pause_state_changed" from="." to="Interface/Day3Ui" method="_on_day_03_level_pause_state_changed"]
[connection signal="timeout" from="DroneShootManager/CooldownTimer" to="DroneShootManager" method="_on_CooldownTimer_timeout"]
[connection signal="all_waves_completed" from="WaveManager" to="." method="_on_wave_manager_all_waves_completed"]
[connection signal="all_waves_completed" from="WaveManager" to="DroneShootManager" method="_on_wave_manager_all_waves_completed"]
[connection signal="wave_completed" from="WaveManager" to="." method="_on_wave_manager_wave_completed"]
[connection signal="wave_completed" from="WaveManager" to="DroneShootManager" method="_on_wave_manager_wave_completed"]
[connection signal="wave_started" from="WaveManager" to="." method="_on_wave_manager_wave_started"]
[connection signal="wave_started" from="WaveManager" to="DroneShootManager" method="_on_wave_manager_wave_started"]
